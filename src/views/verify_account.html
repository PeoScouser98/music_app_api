<script>
	(async () => {
		const params = new URLSearchParams(window.location.search);
		if (params.has("token")) {
			try {
				const response = await fetch("http://localhost:3001/api/activate-account", {
					method: "POST",
					mode: "cors",
					headers: {
						"Content-Type": "application/json",
					},
					body: JSON.stringify({
						token: params.get("token"),
					}),
				});
				if (response.ok) {
					alert("Activate account successfully!");
					window.close();
				}
			} catch (error) {
				console.log(error);
			}
		}
	})();
</script>
